(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{ebdt:function(T,f,t){"use strict";t.r(f);var O=t("nKUr"),b=t("2qtc"),d=t("kLXV"),B=t("miYZ"),j=t("tsqr"),p=t("o0o1"),l=t.n(p),g=t("VTBJ"),m=t("HaE+"),y=t("q1tI"),h=t("s4NR"),A=/(((^https?:(?:\/\/)?)(?:[-;:&=\+\$,\w]+@)?[A-Za-z0-9.-]+(?::\d+)?|(?:www.|[-;:&=\+\$,\w]+@)[A-Za-z0-9.-]+)((?:\/[\+~%\/.\w-_]*)?\??(?:[-\+=&;%@.\w_]*)#?(?:[\w]*))?)$/,J=function(n){return A.test(n)},w=function(){return window.location.hostname==="preview.pro.ant.design"},N=function(){var n="production";return n==="development"?!0:w()},F=function(n){return n?Object(h.parse)(n.split("?")[1]):Object(h.parse)(window.location.href.split("?")[1])},I=t("95SA"),S=t("63rs"),c=t("9kvl"),D=t("I5X1"),V=f.default=function(){var o=F(),n=Object(D.a)("@@initialState"),u=n.initialState,U=n.setInitialState,P=function(){var v=Object(m.a)(l.a.mark(function a(){var e,s;return l.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,u==null||(e=u.fetchUserInfo)===null||e===void 0?void 0:e.call(u);case 2:s=i.sent,s&&U(Object(g.a)(Object(g.a)({},u),{},{currentUser:s}));case 4:case"end":return i.stop()}},a)}));return function(){return v.apply(this,arguments)}}(),E=function(){!c.b||setTimeout(function(){var a=c.b.location.query,e=a,s=e.redirect;c.b.push(s||"/")},10)},$=function(){var v=Object(m.a)(l.a.mark(function a(){var e;return l.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(S.a)(o);case 2:if(e=r.sent,!(e&&e.code===0)){r.next=11;break}return localStorage.setItem("token",e.token),j.default.success("\u767B\u5F55\u6210\u529F\uFF01"),r.next=8,P();case 8:setTimeout(function(){E()},1e3),r.next=13;break;case 11:d.a.destroyAll(),d.a.error({title:"\u767B\u5F55\u5931\u8D25",content:"\u5931\u8D25\u539F\u56E0\uFF1A".concat(e.msg,"\uFF01"),okText:"\u8FD4\u56DE\u91CD\u65B0\u767B\u5F55",onOk:function(){c.b.push("/user/login")}});case 13:case"end":return r.stop()}},a)}));return function(){return v.apply(this,arguments)}}();return Object(y.useEffect)(function(){$()},[]),Object(O.jsx)(I.a,{tip:"\u6388\u6743\u6210\u529F\uFF0C\u6B63\u5728\u767B\u5F55..."})}}}]);
